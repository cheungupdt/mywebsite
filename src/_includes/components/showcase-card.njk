<div class="showcase-card" data-type="{{ element.type }}">
  <div class="card-media">
    {% if element.type == "3d-model" %}
      <div class="model-container">
        <div class="model-viewer">
          <div class="model-loading">
            <div class="loading-spinner"></div>
            <p>Loading 3D model...</p>
          </div>
          <canvas id="model-canvas-{{ element.model | replace('.glb', '') }}"></canvas>
        </div>
        <div class="model-controls">
          <button class="btn btn-small" id="rotate-{{ element.model | replace('.glb', '') }}">Toggle Rotation</button>
          <button class="btn btn-small" id="reset-{{ element.model | replace('.glb', '') }}">Reset View</button>
        </div>
      </div>
    {% elif element.type == "voice-synthesis" %}
      {% include "components/voice-synthesis.njk" %}
    {% elif element.type == "chatbot" %}
      <div class="chatbot-showcase-container">
        <!-- This is the demo version that stays in the card -->
        <div class="chatbot-demo-card">
          <div class="demo-chatbot">
            <div class="demo-chatbot-header">
              <div class="demo-chatbot-info">
                <div class="demo-chatbot-avatar">
                  <i class="icon-robot"></i>
                </div>
                <div class="demo-chatbot-details">
                  <h3>KC Assistant</h3>
                  <span class="demo-status online">Online</span>
                </div>
              </div>
            </div>
            <div class="demo-messages">
              <div class="demo-message bot">
                <div class="demo-message-avatar">
                  <i class="icon-robot"></i>
                </div>
                <div class="demo-message-content">
                  <p>Hello! I'm KC's AI assistant. I can help you learn about KC's expertise in robotics, automation, and n8n workflows.</p>
                </div>
              </div>
              <div class="demo-message user">
                <div class="demo-message-avatar">
                  <i class="icon-user"></i>
                </div>
                <div class="demo-message-content">
                  <p>What can you do?</p>
                </div>
              </div>
              <div class="demo-message bot">
                <div class="demo-message-avatar">
                  <i class="icon-robot"></i>
                </div>
                <div class="demo-message-content">
                  <p>I can help you learn about KC's expertise and assist with various inquiries!</p>
                </div>
              </div>
            </div>
            <div class="demo-chatbot-input">
              <input type="text" placeholder="Type your message..." disabled>
              <button class="demo-send-button" disabled>
                <i class="icon-send"></i>
              </button>
            </div>
            <div class="demo-chatbot-footer">
              <button class="demo-try-chatbot" id="try-chatbot-btn">Try the real chatbot â†’</button>
            </div>
          </div>
        </div>

        <!-- This is the floating chatbot that appears site-wide -->
        <div class="floating-chatbot-container">
          <button class="chatbot-toggle" id="chatbot-toggle">
            <i class="icon-chat"></i>
          </button>
          
          <div class="floating-chatbot minimized" id="floating-chatbot">
            <div class="floating-chatbot-header">
              <div class="floating-chatbot-info">
                <div class="floating-chatbot-avatar">
                  <i class="icon-robot"></i>
                </div>
                <div class="floating-chatbot-details">
                  <h3>KC Assistant</h3>
                  <span class="floating-status online">Online</span>
                </div>
                <button class="floating-chatbot-close" id="floating-chatbot-close">
                  <i class="icon-close"></i>
                </button>
              </div>
            </div>
            
            <div class="floating-messages">
              <div class="floating-message bot">
                <div class="floating-message-avatar">
                  <i class="icon-robot"></i>
                </div>
                <div class="floating-message-content">
                  <p>Hello! I'm KC's AI assistant. How can I help you today?</p>
                </div>
              </div>
            </div>
            
            <div class="floating-chatbot-input">
              <input type="text" placeholder="Type your message..." id="floating-chat-input">
              <button class="floating-send-button" id="floating-send-btn">
                <i class="icon-send"></i>
              </button>
            </div>
          </div>
        </div>
      </div>
    {% elif element.type == "parallax" %}
      <div class="parallax-demo">
        <div class="parallax-layers">
          <div class="parallax-layer" data-speed="0.2">Background</div>
          <div class="parallax-layer" data-speed="0.5">Middle</div>
          <div class="parallax-layer" data-speed="0.8">Foreground</div>
        </div>
      </div>
    {% elif element.type == "micro-interactions" %}
      <div class="animation-demo">
        <div class="demo-container">
          <div class="demo-element" id="demo-element-{{ element.title | slugify }}">
            <div class="demo-box"></div>
            <div class="demo-controls">
              <button class="btn btn-small" data-animation="bounce">Bounce</button>
              <button class="btn btn-small" data-animation="pulse">Pulse</button>
              <button class="btn btn-small" data-animation="shake">Shake</button>
              <button class="btn btn-small" data-animation="flip">Flip</button>
            </div>
          </div>
        </div>
      </div>
    {% elif element.type == "performance" %}
      <div class="performance-demo">
        <div class="performance-metrics">
          <div class="metric">
            <span class="metric-label">Load Time</span>
            <span class="metric-value">1.2s</span>
          </div>
          <div class="metric">
            <span class="metric-label">Page Size</span>
            <span class="metric-value">245KB</span>
          </div>
          <div class="metric-action">
            <button class="btn btn-small" id="run-performance-test">Run Test</button>
          </div>
        </div>
      </div>
    {% endif %}
  </div>
  <div class="card-content">
    <h3>{{ element.title }}</h3>
    <p>{{ element.description }}</p>
    <div class="card-tags">
      {% for tag in element.tags %}
        <span class="tag">{{ tag }}</span>
      {% endfor %}
    </div>
  </div>
</div>